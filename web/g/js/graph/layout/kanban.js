"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _get(t,e,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){t=_superPropBase(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(o):e.value}})(t,e,o||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(o){var n=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(o);return _possibleConstructorReturn(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PoolLayout=function(){_inherits(o,go.GridLayout);var e=_createSuper(o);function o(){var t;return _classCallCheck(this,o),(t=e.call(this)).MINLENGTH=200,t.MINBREADTH=100,t.cellSize=new go.Size(1,1),t.wrappingColumn=1/0,t.wrappingWidth=1/0,t.spacing=new go.Size(0,0),t.alignment=go.GridLayout.Position,t}return _createClass(o,[{key:"doLayout",value:function(t){var n,i=this,e=this.diagram;null!==e&&(e.startTransaction("PoolLayout"),n=this.computeMinPoolLength(),e.findTopLevelGroups().each(function(t){var e,o;t instanceof go.Group&&(null!==(e=t.selectionObject)&&(o=i.computeLaneSize(t),e.width=isNaN(e.width)?o.width:Math.max(e.width,o.width),e.height=n,t=t.resizeCellSize,!isNaN(e.width)&&!isNaN(t.width)&&0<t.width&&(e.width=Math.ceil(e.width/t.width)*t.width),!isNaN(e.height)&&!isNaN(t.height)&&0<t.height&&(e.height=Math.ceil(e.height/t.height)*t.height)))}),_get(_getPrototypeOf(o.prototype),"doLayout",this).call(this,t),e.commitTransaction("PoolLayout"))}},{key:"computeMinPoolLength",value:function(){var e=this.MINLENGTH;return myDiagram.findTopLevelGroups().each(function(t){t=t.placeholder;null!==t&&(t=t.actualBounds,e=Math.max(e,t.height))}),e}},{key:"computeLaneSize",value:function(t){var e,o=new go.Size(t.isSubGraphExpanded?this.MINBREADTH:1,this.MINLENGTH);!t.isSubGraphExpanded||null!==(e=t.placeholder)&&(e=e.actualBounds,o.width=Math.max(o.width,e.width));t=t.findObject("HEADER");return null!==t&&(o.width=Math.max(o.width,t.actualBounds.width)),o}}]),o}();function kanbanLayout(){function t(){myDiagram.selection.each(function(t){return t.invalidateLayout()}),myDiagram.layoutDiagram()}myDiagram.div=null,myDiagram=GO(go.Diagram,Diagram_name,{contentAlignment:go.Spot.TopLeft,initialAutoScale:go.Diagram.UniformToFill,layout:GO(PoolLayout),mouseDrop:function(t){t.diagram.currentTool.doCancel()},"commandHandler.copiesGroupKey":!0,SelectionMoved:t,SelectionCopied:t,"undoManager.isEnabled":!0,"textEditingTool.starting":go.TextEditingTool.SingleClick}),myDiagram.toolManager.draggingTool.doActivate=function(){go.DraggingTool.prototype.doActivate.call(this),this.currentPart.opacity=.6,this.currentPart.layerName="Foreground"},myDiagram.toolManager.draggingTool.doDeactivate=function(){this.currentPart.opacity=1,this.currentPart.layerName="",go.DraggingTool.prototype.doDeactivate.call(this)};var n=["#009CCC","#CC293D","#FFD700"];function e(t){return n[Math.min(t,n.length-1)]}function o(t,e){if(e&&myDiagram.toolManager.draggingTool.currentPart.containingGroup!==t)return void(t.isHighlighted=!0);t.isHighlighted=!1}initOverview(),myDiagram.nodeTemplate=GO(go.Node,"Horizontal",new go.Binding("location","loc",go.Point.parse).makeTwoWay(go.Point.stringify),GO(go.Shape,"Rectangle",{fill:"#009CCC",strokeWidth:1,stroke:"#009CCC",width:6,stretch:go.GraphObject.Vertical,alignment:go.Spot.Left,click:function(t,e){myDiagram.startTransaction("Update node color");var o=parseInt(e.part.data.color)+1;n.length-1<o&&(o=0),myDiagram.model.setDataProperty(e.part.data,"color",o),myDiagram.commitTransaction("Update node color")}},new go.Binding("fill","color",e),new go.Binding("stroke","color",e)),GO(go.Panel,"Auto",GO(go.Shape,"Rectangle",{fill:"white",stroke:"#CCCCCC"}),GO(go.Panel,"Table",{width:130,minSize:new go.Size(NaN,50)},GO(go.TextBlock,{name:"TEXT",margin:6,font:"11px Lato, sans-serif",editable:!0,stroke:"#000",maxSize:new go.Size(130,NaN),alignment:go.Spot.TopLeft},new go.Binding("text","text").makeTwoWay())))),myDiagram.groupTemplate=GO(go.Group,"Vertical",{selectable:!1,selectionObjectName:"SHAPE",layerName:"Background",layout:GO(go.GridLayout,{wrappingColumn:1,cellSize:new go.Size(1,1),spacing:new go.Size(5,5),alignment:go.GridLayout.Position,comparer:function(t,e){t=t.location.y,e=e.location.y;return isNaN(t)||isNaN(e)?0:t<e?-1:e<t?1:0}}),click:function(t){t.shift||t.control||t.meta||t.diagram.clearSelection()},computesBoundsIncludingLocation:!0,computesBoundsAfterDrag:!0,handlesDragDropForMembers:!0,mouseDragEnter:function(t,e){return o(e,!0)},mouseDragLeave:function(t,e){return o(e,!1)},mouseDrop:function(t,e){t.diagram.selection.all(function(t){return!(t instanceof go.Group)})&&(e.addMembers(e.diagram.selection,!0)||e.diagram.currentTool.doCancel())},subGraphExpandedChanged:function(t){var e=t.selectionObject;t.diagram.undoManager.isUndoingRedoing||(t.isSubGraphExpanded?e.width=t.data.savedBreadth:(isNaN(e.width)||t.diagram.model.set(t.data,"savedBreadth",e.width),e.width=NaN))}},new go.Binding("location","loc",go.Point.parse).makeTwoWay(go.Point.stringify),new go.Binding("isSubGraphExpanded","expanded").makeTwoWay(),GO(go.Panel,"Horizontal",{name:"HEADER",alignment:go.Spot.Left},GO("SubGraphExpanderButton",{margin:5}),GO(go.TextBlock,{font:"15px Lato, sans-serif",editable:!0,margin:new go.Margin(2,0,0,0)},new go.Binding("visible","isSubGraphExpanded").ofObject(),new go.Binding("text").makeTwoWay())),GO(go.Panel,"Auto",GO(go.Shape,"Rectangle",{name:"SHAPE",fill:"#F1F1F1",stroke:null,strokeWidth:4},new go.Binding("fill","isHighlighted",function(t){return t?"#D6D6D6":"#F1F1F1"}).ofObject(),new go.Binding("desiredSize","size",go.Size.parse).makeTwoWay(go.Size.stringify)),GO(go.Placeholder,{padding:12,alignment:go.Spot.TopLeft}),GO(go.TextBlock,{name:"LABEL",font:"15px Lato, sans-serif",editable:!0,angle:90,alignment:go.Spot.TopLeft,margin:new go.Margin(4,0,0,2)},new go.Binding("visible","isSubGraphExpanded",function(t){return!t}).ofObject(),new go.Binding("text").makeTwoWay())))}